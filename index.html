<!doctype html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="stylesheet" href="http://w3bits.com/wp-content/themes/bits-v2/labs.css">
	<title>Portfolio</title>
	<title>Portfolio</title>

<!-- This site is optimized with the Yoast SEO plugin v5.4 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="portfolio"/>
<link rel="canonical" href="http://w3bits.com/labs/flexbox-masonry-js/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Vertical Flexbox Masonry controlled with JavaScript - W3Bits" />
<meta property="og:description" content="Demonstrating the Vertical Masonry built with CSS Flexbox properties and a bit of JavaScript." />
<meta property="og:url" content="http://w3bits.com/labs/flexbox-masonry-js/" />
<meta property="og:site_name" content="W3Bits" />
<meta property="og:image" content="https://unsplash.it/700/800?image=1" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/800?image=1" />
<meta property="og:image" content="https://unsplash.it/700/600?image=2" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/600?image=2" />
<meta property="og:image" content="https://unsplash.it/700/400?image=3" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/400?image=3" />
<meta property="og:image" content="https://unsplash.it/700/500?image=4" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/500?image=4" />
<meta property="og:image" content="https://unsplash.it/700/700?image=5" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/700?image=5" />
<meta property="og:image" content="https://unsplash.it/700/300?image=6" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/300?image=6" />
<meta property="og:image" content="https://unsplash.it/700/500?image=7" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/500?image=7" />
<meta property="og:image" content="https://unsplash.it/700/650?image=8" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/650?image=8" />
<meta property="og:image" content="https://unsplash.it/700/350?image=9" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/350?image=9" />
<meta property="og:image" content="https://unsplash.it/700/420?image=10" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/420?image=10" />
<meta property="og:image" content="https://unsplash.it/700/300?image=11" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/300?image=11" />
<meta property="og:image" content="https://unsplash.it/700/500?image=12" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/500?image=12" />
<meta property="og:image" content="https://unsplash.it/700/550?image=13" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/550?image=13" />
<meta property="og:image" content="https://unsplash.it/700/900?image=14" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/900?image=14" />
<meta property="og:image" content="https://unsplash.it/700/800?image=15" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/800?image=15" />
<meta property="og:image" content="https://unsplash.it/700/400?image=16" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/400?image=16" />
<meta property="og:image" content="https://unsplash.it/700/500?image=17" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/500?image=17" />
<meta property="og:image" content="https://unsplash.it/700/650?image=18" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/650?image=18" />
<meta property="og:image" content="https://unsplash.it/700/550?image=19" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/550?image=19" />
<meta property="og:image" content="https://unsplash.it/700/440?image=20" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/440?image=20" />
<meta property="og:image" content="https://unsplash.it/700/480?image=21" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/480?image=21" />
<meta property="og:image" content="https://unsplash.it/700/680?image=22" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/680?image=22" />
<meta property="og:image" content="https://unsplash.it/700/920?image=23" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/920?image=23" />
<meta property="og:image" content="https://unsplash.it/700/650?image=24" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/650?image=24" />
<meta property="og:image" content="https://unsplash.it/700/350?image=25" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/350?image=25" />
<meta property="og:image" content="https://unsplash.it/700/425?image=26" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/425?image=26" />
<meta property="og:image" content="https://unsplash.it/700/500?image=27" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/500?image=27" />
<meta property="og:image" content="https://unsplash.it/700/450?image=28" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/450?image=28" />
<meta property="og:image" content="https://unsplash.it/700/350?image=29" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/350?image=29" />
<meta property="og:image" content="https://unsplash.it/700/900?image=30" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/900?image=30" />
<meta property="og:image" content="https://unsplash.it/700/520?image=31" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/520?image=31" />
<meta property="og:image" content="https://unsplash.it/700/650?image=32" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/650?image=32" />
<meta property="og:image" content="https://unsplash.it/700/750?image=33" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/750?image=33" />
<meta property="og:image" content="https://unsplash.it/700/800?image=34" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/800?image=34" />
<meta property="og:image" content="https://unsplash.it/700/900?image=35" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/900?image=35" />
<meta property="og:image" content="https://unsplash.it/700/420?image=36" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/420?image=36" />
<meta property="og:image" content="https://unsplash.it/700/350?image=37" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/350?image=37" />
<meta property="og:image" content="https://unsplash.it/700/600?image=38" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/600?image=38" />
<meta property="og:image" content="https://unsplash.it/700/480?image=39" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/480?image=39" />
<meta property="og:image" content="https://unsplash.it/700/640?image=40" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/640?image=40" />
<meta property="og:image" content="https://unsplash.it/700/350?image=41" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/350?image=41" />
<meta property="og:image" content="https://unsplash.it/700/380?image=42" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/380?image=42" />
<meta property="og:image" content="https://unsplash.it/700/420?image=43" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/420?image=43" />
<meta property="og:image" content="https://unsplash.it/700/500?image=44" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/500?image=44" />
<meta property="og:image" content="https://unsplash.it/700/640?image=45" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/640?image=45" />
<meta property="og:image" content="https://unsplash.it/700/680?image=46" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/680?image=46" />
<meta property="og:image" content="https://unsplash.it/700/700?image=47" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/700?image=47" />
<meta property="og:image" content="https://unsplash.it/700/350?image=48" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/350?image=48" />
<meta property="og:image" content="https://unsplash.it/700/400?image=49" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/400?image=49" />
<meta property="og:image" content="https://unsplash.it/700/800?image=50" />
<meta property="og:image:secure_url" content="https://unsplash.it/700/800?image=50" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Demonstrating the Vertical Masonry built with CSS Flexbox properties and a bit of JavaScript." />
<meta name="twitter:title" content="Vertical Flexbox Masonry controlled with JavaScript - W3Bits" />
<meta name="twitter:site" content="@w3bits_" />
<meta name="twitter:image" content="https://unsplash.it/700/800?image=1" />
<meta name="twitter:creator" content="@w3bits_" />
<script type='application/ld+json'>{"@context":"http:\/\/schema.org","@type":"WebSite","@id":"#website","url":"http:\/\/w3bits.com\/","name":"W3Bits","potentialAction":{"@type":"SearchAction","target":"http:\/\/w3bits.com\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//s.w.org' />
<script type='text/javascript' src='http://w3bits.com/files/js/ads.js'></script>
<link rel='https://api.w.org/' href='http://w3bits.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://w3bits.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://w3bits.com/wp-includes/wlwmanifest.xml" /> 
<link rel='shortlink' href='http://w3bits.com/?p=3293' />
<link rel="alternate" type="application/json+oembed" href="http://w3bits.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fw3bits.com%2Flabs%2Fflexbox-masonry-js%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://w3bits.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fw3bits.com%2Flabs%2Fflexbox-masonry-js%2F&#038;format=xml" />
<script>var script = function(src) {
    var e = document.createElement('script');
    e.async = true;
    e.src = src;
    document.getElementsByTagName('head')[0].appendChild(e);
};

var style = function(css) {
    var e = document.createElement('style');
    if(e.styleSheet){
        e.styleSheet.cssText = css;
    } else {
        e.appendChild(document.createTextNode(css));
    }
    document.getElementsByTagName('head')[0].appendChild(e);
}

var toggleDisplay=function(el,display,class_el){
    var EL=document.querySelector(el);
    if(EL.style.display==display){
        EL.style.display="none";
        if(class_el)EL.classList.add(class_el);
    }else{
        EL.style.display=display;
        if(class_el)EL.classList.add(class_el);
    }
};

/*var font_body = 'Montserrat',
    font_code = 'Roboto Mono'; */

if(window.showAds === undefined) {
  setTimeout(function() {
    var w = document.querySelector('.wrapper');
    if (typeof ga !== 'undefined') {
        ga('send', 'event', 'Adblock', 'Yes', {'nonInteraction': 1}); 
    } else if (typeof _gaq !== 'undefined') {
        _gaq.push(['_trackEvent', 'Adblock', 'Yes', undefined, undefined, true]);
    }

    var ab_a = document.createElement("div"),
        w_p = w.parentNode;
        w_p.classList.add("ab-active");
    ab_a.setAttribute("class", "ab-alert");
    w_p.parentNode.insertBefore(ab_a, w_p);
    ab_a.innerHTML = '<p>I never intend to spoil your experience here, but this is important. I want to share with you that this website exists totally because of adverts money.</p><p>If you whitelist my website in your adblocker software, I won\'t show you more than two Google ads per page, and no popups. It\'s a promise.</p><p>Thanks for your patience :-)</p><p class="small" style="opacity: .75">This message disappears by itself in 15 seconds.</p>';

    var ab = document.querySelector(".ab-alert");

    document.documentElement.setAttribute("oncontextmenu", "return false");

    style('.ab-alert{box-sizing:border-box;line-height:1.75}.site-wrapper{transition: opacity .5s ease-in-out;}.ab-active{ opacity: .0125; pointer-events: none;position:fixed;width:100%;}.ab-alert,.ab-active{user-select:none;}.ab-alert{opacity: 1;transition: opacity .5s ease-in-out;font-size: 15px;position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); width: 100%;max-width: 450px; background-color: white; padding: 2.5em}');

    setInterval( function() {
        ab.style.opacity = "0";
        ab.remove();
        w_p.classList.remove("ab-active");
        document.documentElement.removeAttribute("oncontextmenu");
    }, 15000);
  }, 1000);
}</script><style>

.wrapper {
  margin: 2em auto;
  max-width: 970px;
}

.ta-center { text-align: center; }

img {
  vertical-align: middle;
  max-width: 100%;
}

.masonry {
  display: flex;
  flex-flow: column wrap;
  margin-left: -8px; /* Adjustment for the gutter */
  counter-reset: brick;
}

.masonry-brick {
  overflow: hidden;
  border-radius: 5px;
  margin: 0 0 8px 8px;  /* Some Gutter */
  background-color: #eee;
  position: relative;
}

.masonry-brick:after {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 5000;
  color: white;
  transform: translate(-50%, -50%);
  counter-increment: brick;
  content: counter(brick);
  content: close-quote;
  transition: font-size .25s, opacity .25s ease-in-out;
  font-weight: 700;
  opacity: .5;
  font-size: 1.25em;
}

.masonry-brick:hover:after {
  font-size: 2.25em;
  opacity: 1;
}

.masonry-brick-caption {
  padding: 1.5em;
  text-align: center;
}

.masonry-preloader {
  font-size: 2em;
  letter-spacing: 2px;
  text-transform: uppercase;
  opacity: .5;
  height: 3em;
  display: flex;
  justify-content: center;
 align-items: center;
}



@media only screen and (min-width: 1024px) {
  /* Vertical masonry bricks on desktop-sized screen */
  .masonry-brick {
    width: 33.33333%;
  }
}

@media only screen and (max-width: 1023px) and (min-width: 768px) {
  /* Vertical masonry bricks on tablet-sized screen */
  .masonry-brick {
    width: 50%;
  }
}

.masonry-img {
  object-fit: cover;
  width: 100%;
  height: 100%;
  filter: brightness(100%);
}
</style></head>
<body class="labs-template-default single single-labs postid-3293">
<div class="container">
<nav class="cf lab-nav  lab-nav--light">
    <a href="http://w3bits.com/flexbox-masonry/" title="Back to the article" class="lab-article-link">
        <svg class="icon icon-right-open icon-reverse">
            <use xlink:href="http://w3bits.com/wp-content/themes/bits-v2/assets/img/icons.svg#icon-right-open"></use>
        </svg><span> Article</span></a>
    <ul class="lab-share">
        <li>
            <a href="http://www.facebook.com/sharer/sharer.php?u=http://w3bits.com/flexbox-masonry/" title="Share on Facebook">
                <svg class="icon icon-facebook">
                    <use xlink:href="http://w3bits.com/wp-content/themes/bits-v2/assets/img/icons.svg#icon-facebook"></use>
                </svg>
            </a>
        </li><!--
	--><li>
            <a href="https://twitter.com/intent/tweet?original_referer=http://w3bits.com/flexbox-masonry/&text=$article_title&url=http://w3bits.com/flexbox-masonry/&via=w3bits_" title="Tweet">
                <svg class="icon icon-twitter">
                    <use xlink:href="http://w3bits.com/wp-content/themes/bits-v2/assets/img/icons.svg#icon-twitter"></use>
                </svg>
            </a>
        </li><!--
	--><li>
            <a href="https://plus.google.com/share?url=http://w3bits.com/flexbox-masonry/" title="Share on Google+">
                <svg class="icon icon-gplus">
                    <use xlink:href="http://w3bits.com/wp-content/themes/bits-v2/assets/img/icons.svg#icon-gplus"></use>
                </svg>
            </a>
        </li><!--
	--><li>
            <a href="javascript:void((function(d){var%20e=d.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','//assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);d.body.appendChild(e)})(document));" title="Pin-it on Pinterest">
                <svg class="icon icon-pinterest">
                    <use xlink:href="http://w3bits.com/wp-content/themes/bits-v2/assets/img/icons.svg#icon-pinterest"></use>
                </svg>
            </a>
        </li><!--
	--><li>
            <a href="http://www.addthis.com/bookmark.php?url=http://w3bits.com/flexbox-masonry/" class="share-link" rel="external nofollow" title="Share the love" target="_blank">
                <svg class="icon icon-share">
                    <use xlink:href="http://w3bits.com/wp-content/themes/bits-v2/assets/img/icons.svg#icon-share"></use>
                </svg><span></span></a>
        </li>
    </ul>
</nav>
	<div class="wrapper">
<div class="bup" id="bup">
<style>.w3bits-responsive { width: 468px; height: 60px; margin: 1.5em auto; text-align: center; }
@media(min-width: 250px) { .w3bits-responsive { width: 234px; height: 60px; } }
@media(min-width: 350px) { .w3bits-responsive { width: 320px; height: 50px; } }
@media(min-width: 480px) { .w3bits-responsive { width: 468px; height: 60px; } }
@media(min-width: 750px) { .w3bits-responsive { width: 728px; height: 90px;} }
@media(min-width: 1000px) { .w3bits-responsive { width: 970px; height: 90px;} }
</style>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- w3bits responsive -->
<ins class="adsbygoogle w3bits-responsive"
     style="display:block"
     data-ad-client="ca-pub-1581655830066906"
     data-ad-slot="9749450056"></ins>
</div>
	<h2 class="ta-center">Vertical Flexbox Masonry with a bit of JavaScript</h2>

<div class="masonry">
<figure class="masonry-brick"><img src="https://unsplash.it/700/800?image=1" alt="Masonry Brick #1" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="https://unsplash.it/700/600?image=2" alt="Masonry Brick #2" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="https://unsplash.it/700/400?image=3" alt="Masonry Brick #3" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="img/IMG_6602.JPG" alt="Masonry Brick #4" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="https://unsplash.it/700/700?image=5" alt="Masonry Brick #5" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="https://unsplash.it/700/300?image=6" alt="Masonry Brick #6" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="img/IMG_6897.JPG" alt="Masonry Brick #7" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="https://unsplash.it/700/650?image=8" alt="Masonry Brick #8" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="img/IMG_8788.PNG" alt="Masonry Brick #9" class="masonry-img"></figure>
<figure class="masonry-brick"><img src="https://picsum.photos/700/420" alt="Masonry Brick #10" class="masonry-img"></figure>
</div>

<script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>

<script>function masonry(grid, gridCell, gridGutter, dGridCol, tGridCol, mGridCol) {
  var g = document.querySelector(grid),
      gc = document.querySelectorAll(gridCell),
      gcLength = gc.length,
      gHeight = 0,
      i;
  
  for(i=0; i<gcLength; ++i) {
    gHeight+=gc[i].offsetHeight+parseInt(gridGutter);
  }
  
  if(window.screen.width >= 1024)
    g.style.height = gHeight/dGridCol + gHeight/(gcLength+1) + "px";
  else if(window.screen.width < 1024 && window.screen.width >= 768)
    g.style.height = gHeight/tGridCol + gHeight/(gcLength+1) + "px";
  else
    g.style.height = gHeight/mGridCol + gHeight/(gcLength+1) + "px";
}

var masonryGrid = document.querySelector('.masonry');
masonryGrid.insertAdjacentHTML("afterend", "<div class='masonry-preloader'>Loading...</div>");
var masonryPreloader = document.querySelector('.masonry-preloader');

["resize", "load"].forEach(function(event) {
  // Adding little preloader information
  masonryGrid.style.display="none";
  window.addEventListener(event, function() {
    imagesLoaded( document.querySelector('.masonry'), function() {
      masonryGrid.style.display="flex";
      masonryPreloader.style.display="none";
      // A masonry grid with 8px gutter, with 3 columns on desktop, 2 on tablet, and 1 column on mobile devices.
      masonry(".masonry", ".masonry-brick", 8, 3, 2, 1);
      console.log("Loaded");
    });
  }, false);
});
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-10703354-8', 'w3bits.com');ga('require', 'displayfeatures');ga('send', 'pageview');
        var toggle_menu = document.querySelector("#toggle_menu"),
            toggle_search = document.querySelector("#toggle_search");
if(toggle_menu) {
        toggle_menu.addEventListener("click", function(){
            toggleDisplay("#main-nav", "block", false);
            toggle_menu.classList.toggle("active");
            toggle_menu.children[0].classList.toggle("icon-close");
        }, false);
}
if(toggle_search) {
        toggle_search.addEventListener("click", function(){
            toggleDisplay("#search", "block", false);
            toggle_search.classList.toggle("active");
            toggle_search.children[0].classList.toggle("icon-close");
        }, false);
}</script><script type='text/javascript' src='http://w3bits.com/wp-content/themes/bits-v2/assets/js/prettify.js'></script>
<script type='text/javascript'>
prettyPrint()
</script>
</div>
</body>
</html>